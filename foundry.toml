# ==============================================
# FOUNDRY CONFIGURATION FOR ANOA
# ==============================================
# Smart Contract: ERC-8004 Trustless AI Agents
# Network: Monad Network (Testnet & Mainnet)
# ==============================================

[profile.default]
src = "contracts/src"
out = "contracts/out"
libs = ["contracts/lib"]
test = "contracts/test"
script = "contracts/script"
cache_path = "contracts/cache"
broadcast = "contracts/broadcast"
optimizer = true
optimizer_runs = 200
via_ir = true
solc_version = "0.8.30"
evm_version = "prague"
verbosity = 1
show_progress = true
auto_detect_solc = false
remappings = [
  "@openzeppelin/contracts/=contracts/lib/openzeppelin-contracts/contracts/",
  "forge-std/=contracts/lib/forge-std/src/"
]

# File system permissions
fs_permissions = [
  { access = "read-write", path = "./contracts/deployments" },
  { access = "read-write", path = "./contracts/broadcast" },
  { access = "read", path = "./contracts/out" }
]

[fuzz]
runs = 256

[invariant]
runs = 256

# ============================================
# RPC ENDPOINTS
# ============================================
[rpc_endpoints]
# Monad Networks (Primary deployment targets)
monad_testnet = "${MONAD_TESTNET_RPC}"
monad_mainnet = "${MONAD_MAINNET_RPC}"

# Testnets for cross-chain testing
ethereum_sepolia = "${SEPOLIA_RPC}"
base_sepolia = "${BASE_SEPOLIA_RPC}"
arbitrum_sepolia = "${ARBITRUM_SEPOLIA_RPC}"

# Mainnets (for indexing verification)
ethereum_mainnet = "${ETHEREUM_RPC}"
base_mainnet = "${BASE_RPC}"
arbitrum_mainnet = "${ARBITRUM_RPC}"

# ============================================
# ETHERSCAN/BLOCKSCOUT VERIFICATION
# ============================================
# Monad Testnet Explorer
[etherscan.monad_testnet]
key = "${MONAD_EXPLORER_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=10143"

# Monad Mainnet Explorer
[etherscan.monad_mainnet]
key = "${MONAD_EXPLORER_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=143"

# Ethereum Mainnet
[etherscan.ethereum_mainnet]
key = "${ETHERSCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=1"

# Ethereum Sepolia
[etherscan.ethereum_sepolia]
key = "${ETHERSCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=11155111"

# Base Mainnet
[etherscan.base_mainnet]
key = "${BASESCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=8453"

# Base Sepolia
[etherscan.base_sepolia]
key = "${BASESCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=84532"

# Arbitrum Mainnet
[etherscan.arbitrum_mainnet]
key = "${ARBISCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=42161"

# Arbitrum Sepolia
[etherscan.arbitrum_sepolia]
key = "${ARBISCAN_API_KEY}"
url = "https://api.etherscan.io/v2/api?chainid=421614"

# ============================================
# DEPENDENCIES (OpenZeppelin 5.2.0)
# ============================================
[dependencies]
"@openzeppelin/contracts" = "5.2.0"

# ============================================
# FORMATTER
# ============================================
[fmt]
line_length = 120
tab_width = 4
bracket_spacing = true
int_types = "long"
multiline_func_header = "all"
quote_style = "double"
number_underscore = "thousands"

# ============================================
# LINTER
# ============================================
[lint]
exclude_lints = [
    "mixed-case-function",
    "mixed-case-variable", 
    "unaliased-plain-import",
    "unwrapped-modifier-logic",
    "unsafe-cheatcode",
    "unused-import"
]
lint_on_build = false

# ============================================
# DOC
# ============================================
[doc]
out = "contracts/docs"
title = "ANOA - Trustless AI Agent Protocol on Monad (ERC-8004)"
